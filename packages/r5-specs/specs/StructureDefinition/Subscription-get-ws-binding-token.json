{
  "resourceType": "OperationDefinition",
  "id": "Subscription-get-ws-binding-token",
  "meta": {
    "lastUpdated": "2023-03-26T15:21:02.749+11:00"
  },
  "text": {
    "status": "extensions",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p>URL: [base]/Subscription/$get-ws-binding-token</p><p>URL: [base]/Subscription/[id]/$get-ws-binding-token</p><p>Parameters</p><table class=\"grid\"><tr><td><b>Use</b></td><td><b>Name</b></td><td><b>Scope</b></td><td><b>Cardinality</b></td><td><b>Type</b></td><td><b>Binding</b></td><td><b>Documentation</b></td></tr><tr><td>IN</td><td>id</td><td>type</td><td>0..*</td><td><a href=\"datatypes.html#id\">id</a></td><td/><td><div><p>At the Instance level, this parameter is ignored. At the Resource level, one or more parameters containing a FHIR id for a Subscription to get a token for. In the absence of any specified ids, the server may either return a token for all Subscriptions available to the caller with a channel-type of websocket or fail the request.</p>\n</div></td></tr><tr><td>OUT</td><td>token</td><td/><td>1..1</td><td><a href=\"datatypes.html#string\">string</a></td><td/><td><div><p>An access token that a client may use to show authorization during a websocket connection. The security details of the token are implementation-dependent and beyond the scope of this operation definition.</p>\n</div></td></tr><tr><td>OUT</td><td>expiration</td><td/><td>1..1</td><td><a href=\"datatypes.html#dateTime\">dateTime</a></td><td/><td><div><p>The date and time this token is valid until.</p>\n</div></td></tr><tr><td>OUT</td><td>subscription</td><td/><td>0..*</td><td><a href=\"datatypes.html#string\">string</a></td><td/><td><div><p>The subscriptions this token is valid for.</p>\n</div></td></tr><tr><td>OUT</td><td>websocket-url</td><td/><td>1..1</td><td><a href=\"datatypes.html#url\">url</a></td><td/><td><div><p>The URL the client should use to connect to Websockets.</p>\n</div></td></tr></table></div>"
  },
  "extension": [
    {
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm",
      "valueInteger": 2
    },
    {
      "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status",
      "valueCode": "trial-use"
    }
  ],
  "url": "http://hl7.org/fhir/OperationDefinition/Subscription-get-ws-binding-token",
  "version": "5.0.0",
  "name": "GetWsBindingToken",
  "title": "Get a binding token for use in a websocket connection",
  "status": "draft",
  "kind": "operation",
  "experimental": false,
  "date": "2023-03-26T15:21:02+11:00",
  "publisher": "HL7 (FHIR Project)",
  "contact": [
    {
      "telecom": [
        {
          "system": "url",
          "value": "http://hl7.org/fhir"
        },
        {
          "system": "email",
          "value": "fhir@lists.hl7.org"
        }
      ]
    }
  ],
  "description": "This operation is used to get a token for a websocket client to use in order to bind to one or more subscriptions.",
  "jurisdiction": [
    {
      "coding": [
        {
          "system": "http://unstats.un.org/unsd/methods/m49/m49.htm",
          "code": "001",
          "display": "World"
        }
      ]
    }
  ],
  "affectsState": true,
  "code": "get-ws-binding-token",
  "resource": [
    "Subscription"
  ],
  "system": false,
  "type": true,
  "instance": true,
  "parameter": [
    {
      "name": "id",
      "use": "in",
      "scope": [
        "type"
      ],
      "min": 0,
      "max": "*",
      "documentation": "At the Instance level, this parameter is ignored. At the Resource level, one or more parameters containing a FHIR id for a Subscription to get a token for. In the absence of any specified ids, the server may either return a token for all Subscriptions available to the caller with a channel-type of websocket or fail the request.",
      "type": "id"
    },
    {
      "name": "token",
      "use": "out",
      "min": 1,
      "max": "1",
      "documentation": "An access token that a client may use to show authorization during a websocket connection. The security details of the token are implementation-dependent and beyond the scope of this operation definition.",
      "type": "string"
    },
    {
      "name": "expiration",
      "use": "out",
      "min": 1,
      "max": "1",
      "documentation": "The date and time this token is valid until.",
      "type": "dateTime"
    },
    {
      "name": "subscription",
      "use": "out",
      "min": 0,
      "max": "*",
      "documentation": "The subscriptions this token is valid for.",
      "type": "string"
    },
    {
      "name": "websocket-url",
      "use": "out",
      "min": 1,
      "max": "1",
      "documentation": "The URL the client should use to connect to Websockets.",
      "type": "url"
    }
  ]
}